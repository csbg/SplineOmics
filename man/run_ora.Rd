% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_ora.R
\name{run_ora}
\alias{run_ora}
\title{run_ora()}
\usage{
run_ora(
  cluster_table,
  databases,
  report_info,
  cluster_hits_report_name,
  clusterProfiler_params = NA,
  mapping_cfg = list(method = "none", from_species = NULL, to_species = NULL),
  enrichGO_cfg = NULL,
  universe = NULL,
  report_dir = here::here()
)
}
\arguments{
\item{cluster_table}{A tibble containing one row per
\code{feature_nr} with metadata and cluster assignments across the
analysis categories. It includes:
\itemize{
  \item \code{feature_nr} – Numeric feature identifier.
  \item \code{feature_name} – Preferred feature name from the source
    data, falling back to the numeric ID if none is available.
  \item \code{gene} – Preferred gene symbol from the annotation or
    cluster data.
  \item \code{cluster_<cond1>} / \code{cluster_<cond2>} – Cluster
    assignments for each time-effect condition.
  \item \code{cluster_cat2} – (Optional) Combined cluster label for
    category 2 hits in the form
    \code{"<cluster_<cond1>>_<cluster_<cond2>>"}; \code{NA} if the
    feature was not a category 2 hit.
  \item \code{cluster_cat3} – (Optional) Combined cluster label for
    category 3 hits in the form
    \code{"<cluster_<cond1>>_<cluster_<cond2>>"}; \code{NA} if the
    feature was not a category 3 hit.
}
For any category-specific cluster column, a value of \code{NA}
indicates that the feature was not significant (not a hit) in that
category.}

\item{databases}{A `data.frame` that defines the gene set collections to be
  tested in the overrepresentation analysis. Must contain exactly three
  columns:
  \describe{
    \item{DB}{Character. The database identifier (e.g., `"KEGG"`, `"GO_BP"`,
      `"Reactome"`).}
    \item{Geneset}{Character. The name of the gene set or pathway within the
      database.}
    \item{Gene}{Character. A gene identifier belonging to the gene set
      (e.g., gene symbol, Ensembl ID).}
  }

  Each row corresponds to one `(database, geneset, gene)` association. The
  same gene may appear in multiple gene sets.}

\item{report_info}{A list containing information for the report generation,
such as omics_data_type and data_description (this is the list used for all
report generating functions of this package).}

\item{cluster_hits_report_name}{Single character string specifying the name 
of the cluster_hits() function report, that contains the results that were
used for the overprepresentation analysis here. Must be specified, because
otherwise, the connection is not documented.}

\item{clusterProfiler_params}{A named list of arguments passed directly to
the corresponding functions in the \strong{clusterProfiler} package.
Typical entries include \code{pvalueCutoff}, \code{pAdjustMethod},
\code{minGSSize}, \code{maxGSSize}, and \code{qvalueCutoff}. The names
must match the argument names in clusterProfiler; see the clusterProfiler
documentation for details. If \code{NULL} (default), the standard
clusterProfiler defaults are used.}

\item{mapping_cfg}{A named list that controls the optional behavior of
automatically mapping gene symbols across species. This is useful
when your input gene symbols (e.g., from CHO cells) do not match
the species used by the enrichment databases (e.g., human or mouse).
By default, no mapping is performed and gene symbols are used as-is.
If mapping is desired, this list must contain the following **three**
elements:
\describe{
  \item{method}{Mapping method to use. One of `"none"` (default; 
  no mapping), `"gprofiler"` (online, via the g:Profiler API), or
   `"orthogene"` (offline, if installed).}
  \item{from_species}{Source species code 
  (e.g., `"cgriseus"` for CHO). Must match the expected format for
   the selected tool.}
  \item{to_species"}{Target species code 
  (e.g., `"hsapiens"` for human). This must be the species used in
   your ORA database.}
}}

\item{enrichGO_cfg}{A named list specifying the configuration for 
running GO enrichment with Bioconductor's 
\code{\link[clusterProfiler]{enrichGO}}.
This is only needed when you want to perform GO Biological Process (BP), 
Molecular Function (MF), or Cellular Component (CC) enrichment using 
Bioconductor's organism databases (e.g., \code{org.Mm.eg.db} for mouse).

The list must be named according to the GO ontology, e.g., \code{"GO_BP"}, 
\code{"GO_MF"}, \code{"GO_CC"}. Each entry must provide:
\itemize{
  \item \code{OrgDb}: The organism database, e.g., \code{org.Mm.eg.db}.
  \item \code{keyType}: The gene identifier type, e.g., \code{"SYMBOL"}.
  \item \code{ontology}: One of \code{"BP"}, \code{"MF"}, or \code{"CC"}.
}

If \code{enrichGO_cfg} is \code{NULL} (default), no Bioconductor-based GO 
enrichment is performed. All enrichment runs through 
\code{\link[clusterProfiler]{enricher}} with the provided TERM2GENE mappings.}

\item{universe}{Enrichment background data, default is NULL. This is a
parameter of clusterProfiler, for the documentation, please check the 
documentation of the clusterProfiler R package.}

\item{report_dir}{Directory where the report will be saved, default is
`here::here()`.}
}
\value{
A list of all plot objects, generated for the ora report.
}
\description{
This function generates a overrepresentation analysis report based
on clustered hit levels, gene data, and specified databases. It accomplishes 
this by using the R package clusterProfiler. As output, you will receive a
list of the plot objects it generated, and an HTML report with embedded files
containing the enrichment results, and dotplots visualizing the enrichment.
}
