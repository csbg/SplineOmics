% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_clustering_report.R
\name{create_clustering_report}
\alias{create_clustering_report}
\title{Generate an HTML clustering report from precomputed results}
\usage{
create_clustering_report(
  report_payload,
  plot_info = list(y_axis_label = "Value", time_unit = "min", treatment_labels = NA,
    treatment_timepoints = NA),
  plot_options = list(cluster_heatmap_columns = FALSE, meta_replicate_column = NULL,
    condition_colours = NULL),
  verbose = FALSE,
  max_hit_number = 25,
  raw_data = NULL,
  report_dir = here::here()
)
}
\arguments{
\item{report_payload}{\code{list}: A structured report payload object as returned
by upstream analysis and clustering functions (e.g.,
\code{cluster_hits()}). The payload must contain all data and metadata
required to generate the report, including (non-exhaustive):
\itemize{
\item \code{splineomics}: A \code{SplineOmics} object containing the original
input data, metadata, design, spline parameters, and analysis settings.
\item \code{all_levels_clustering}: Clustering assignments for all
condition levels and analysis categories.
\item \code{genes}: \code{character()} Vector of gene or feature names aligned
to the rows of the input data.
\item \code{predicted_timecurves}: Predicted spline trajectories on a
common time grid.
\item \code{category_2_and_3_hits}: Data describing significant features
from average-difference and interaction analyses.
\item Adjusted p-value thresholds and additional metadata required for
report annotation.
}}

\item{plot_info}{\code{list}: List with optional elements used to annotate spline
plots:

\itemize{
\item \code{y_axis_label}: \code{character(1)} Label for the y-axis.
\item \code{time_unit}: \code{character(1)} Unit used in the x-axis label.
\item \code{treatment_labels}: \code{list(character(1))} Named list of labels
describing experimental interventions.
\item \code{treatment_timepoints}: \code{list(numeric(1))} Named list of time
points at which interventions occur.
}

If any treatment list is supplied, both must be present and must share
identical names corresponding to levels of
\code{meta[[condition]]}. Vertical dashed lines are drawn at the specified
time points in the spline plots and annotated with the provided labels.}

\item{plot_options}{\code{list}: Named list controlling optional plot
customization. Supported entries include:
\itemize{
\item \code{cluster_heatmap_columns} \code{logical(1)}
(default = \code{FALSE}):
Whether to cluster columns in the heatmap.

\if{html}{\out{<div class="sourceCode">}}\preformatted{\\item \code{meta_replicate_column} `character(1)`
  (default = \code{NULL}):
  Column in \code{meta} encoding replicate information. When supplied,
  spline plot data points are colored by replicate.

\\item \code{condition_colours} `list`
  (default = \code{NULL}):
  Optional named list mapping condition levels to colours. Names must
  correspond to values in the condition column of \code{meta}, and
  values must be valid R colour specifications accepted by
  \code{ggplot2}. When provided, these colours override the default
  colours for the corresponding conditions.
}\if{html}{\out{</div>}}

}}

\item{verbose}{\code{logical(1)}: Logical flag controlling the verbosity of status
and progress messages during report generation.}

\item{max_hit_number}{\code{integer(1)}: Maximum number of hits plotted per
cluster.
This parameter can be used to limit report size and computation time when
many significant features are present.}

\item{raw_data}{\code{matrix}: Optional matrix containing the raw (unimputed) data
with missing values still present. When supplied, data points that were
originally missing and subsequently imputed are highlighted in the spline
plots.}

\item{report_dir}{\code{character(1)}: Path to the directory where the HTML report
and all associated output files will be written. The directory is created
if it does not already exist.}
}
\value{
A named list of plots corresponding to the visualizations included in the
generated HTML report. This includes:
\itemize{
\item Cluster-specific spline plots for time effects.
\item Heatmaps summarizing cluster assignments.
\item Plots for average-difference and interaction (conditionâ€“time)
clustering results, when available.
}

The returned plots are invisibly written to disk as part of the report
generation process.
}
\description{
Creates an HTML report and associated visualizations for clustering results
obtained from a prior SplineOmics analysis. This function performs no
statistical modeling or clustering itself; instead, it consumes a
precomputed \emph{report payload} and is solely responsible for report
generation, plotting, and writing outputs to disk.
}
\details{
This strict separation between computation and reporting ensures that
analytical results can be inspected, tested, and reused independently of
visualization or file-system side effects.
}
